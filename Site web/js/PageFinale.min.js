let State=0;function setStep(Back,Current,Next,Step){$("#BackStep").text(Back),$("#SousTitre").text(Current),$("#Etapetext").text("Etape "+Step+"/3"),$("#NextStep").text(Next)}function GoBack(i){iMoins=i--,$("#Etape"+i).toggleClass("Passé"),$("#Etape"+iMoins).toggleClass("PasPassé")}function GoForward(i){iPlus=i++,$("#Etape"+i).toggleClass("PasPassé"),$("#Etape"+iPlus).toggleClass("Passé")}var Precedent,Suivant;$("#Suivant").click((function(){let valeur=$("#Barreetape").val();0==State?(GoForward(1),State++,setStep("Paramètres de l'équipe","Saisie des joueurs","Apperçu",2),move(valeur,.66)):1==State&&(GoForward(2),State++,setStep("Saisie des joueurs","Apperçu","Valider",3),move(valeur,1))})),$("#Precedent").click((function(){let valeur=$("#Barreetape").val();if(2==State)GoBack(3),State--,setStep("Paramètres de l'équipe","Saisie des joueurs","Apperçu",2),move(valeur,.66);else if(1==State)GoBack(2),State--,setStep("Menu Principal","Paramètres de l'équipe","Saisie des joueurs",1),move(valeur,.33);else if(0==State)return $("#AlerteRetour, #Darken").show(),$("#AlerteRetour, #Darken").animate({opacity:"1"},100),$("#Etapetext").text("Etape 0/3"),void move(valeur,0)}));var Timer=[Precedent,Suivant];function DelayHover(Element,i){clearTimeout(Timer[Timer.indexOf(i)]),Timer[Timer.indexOf(i)]=setTimeout((function(){$(Element).animate({width:"1.2em"},200)}),800)}function move(value,nextvalue){if(value<nextvalue){let int=setInterval(frame,22);function frame(){value>=nextvalue?clearInterval(int):(value+=.01,$("#Barreetape").val(value))}}else{let int=setInterval(frame,22);function frame(){value<=nextvalue?clearInterval(int):(value-=.01,$("#Barreetape").val(value))}}}function remove(ligne){$(ligne).parent().parent().remove(),console.log(ligne)}$("#Suivant, #Precedent").hover((function(){clearTimeout(Timer[Timer.indexOf($(this).attr("id"))]),$(this).animate({width:"9.5em"},200)}),(function(){DelayHover(this,$(this).attr("id"))})),$("#RetourMenu").click((function(){window.location.href="/Site web/index.html"})),$("#RetourPage").click((function(){$("#AlerteRetour, #Darken").animate({opacity:"0"},100),setTimeout((function(){$("#AlerteRetour, #Darken").hide()}),100)}));var ligne=0;function standardNom(string){let array=string.split(" "),modified=[];return array.forEach(nom=>{nom=nom[0].toUpperCase()+nom.slice(1).toLowerCase(),modified.push(nom)}),modified.join(" ")}$("#ajouter_joueur").click((function(){let numero;if(numero=$("#numero").val(),""==$("#nom").val()||""==$("#prenom").val()||""==$("#numero").val()||"--Choisisser un poste--"==$("#poste-select").val())return alert("veuillez remplir tous les champs"),void console.log($(".case_form").val());numero<1?alert("rentrez un numéro compris entre 1 et 44"):numero>44?alert("rentrez un numéro compris entre 1 et 44"):($("#Tableau").append('<tr id= "joueur'+ligne+'" class="joueur" ><td class="nom">'+$("#nom").val()+'</td><td class="prenom">'+$("#prenom").val()+'</td><td class="numero">'+$("#numero").val()+'</td><td class="poste">'+$("#poste-select").val()+'</td><input type="image" src="../img/icons8-supprimer-24.png" onclick="remove(this)"></tr>'),$("#nom").val(""),$("#prenom").val(""),$("#numero").val(""),ligne++,$("#poste-select option").prop("selected",(function(){return this.defaultSelected})))})),$("#recap").click((function(){$(".element_1 > .liste_joueurs").empty();var NBR_joueurs=0;for(const[key,value]of Object.entries($(".joueur")))if($(value).hasClass("joueur"))switch(NBR_joueurs++,$(value).children(".poste").text()){case"Attaquant":$(".element_1 >#liste_attaquants").append($(value).children(".nom").text()+" "+$(value).children(".prenom").text()+$(value).children(".numero").text());break;case"Defenseur":$(".element_1 > #liste_defenseurs").append($(value).children(".nom").text()+" "+$(value).children(".prenom").text()+$(value).children(".numero").text());break;case"Milieu":$(".element_1 > #liste_milieux").append($(value).children(".nom").text()+" "+$(value).children(".prenom").text()+$(value).children(".numero").text());break;case"Gardien":$(".element_1 > #liste_gardiens").append($(value).children(".nom").text()+" "+$(value).children(".prenom").text()+$(value).children(".numero").text())}if(NBR_joueurs<17){let joueurs_enmoins;alert("veuillez rentrer"+(17-NBR_joueurs)+"joueur(s) supplémentaire(s)")}else if(NBR_joueurs>17){let joueurs_enplus;alert("Veuillez retirer"+(NBR_joueurs-17)+"joueur(s)")}})),$(document).ready((function(e){$('input[id="embleme"]').on("change",e=>{console.log("change file");let that=e.currentTarget;if(that.files&&that.files[0]){$(that).next(".embleme").html(that.files[0].name);let reader=new FileReader;reader.onload=e=>{$("#imgembleme").attr("src",e.target.result),$("#imgembleme").attr("class","logo")},reader.readAsDataURL(that.files[0])}})})),$(document).ready((function(e){$('input[id="maillot_domicile"]').on("change",e=>{console.log("change file");let that=e.currentTarget;if(that.files&&that.files[0]){$(that).next(".maillot_domicile").html(that.files[0].name);let reader=new FileReader;reader.onload=e=>{$("#imgMD").attr("src",e.target.result),$("#imgMD").attr("class","mdomicile")},reader.readAsDataURL(that.files[0])}})})),$(document).ready((function emblemeIMG(e){$('input[id="maillot_exterieur"]').on("change",e=>{console.log("change file");let that=e.currentTarget;if(that.files&&that.files[0]){$(that).next(".maillot_exterieur").html(that.files[0].name);let reader=new FileReader;reader.onload=e=>{$("#imgME").attr("src",e.target.result),$("#imgME").attr("class","mexterieur")},reader.readAsDataURL(that.files[0])}})})),$(document).ready((function(e){$('input[id="maillot_alternatif"]').on("change",e=>{console.log("change file");let that=e.currentTarget;if(that.files&&that.files[0]){$(that).next(".maillot_alternatif").html(that.files[0].name);let reader=new FileReader;reader.onload=e=>{$("#imgMA").attr("src",e.target.result),$("#imgMA").attr("class","malternatif")},reader.readAsDataURL(that.files[0])}})})),$(document).ready((function(){$("#nom_equipe").on("input",(function(){$("#print_NE").text($(this).val())}))})),$(document).ready((function(){$("#embleme").on("input",(function(){$("#print_E").text($(this).val())}))})),$(document).ready((function(){$("#maillot_domicile").on("input",(function(){$("#print_MD").text($(this).val())}))})),$(document).ready((function(){$("#maillot_exterieur").on("input",(function(){$("#print_ME").text($(this).val())}))})),$(document).ready((function(){$("#maillot_alternatif").on("input",(function(){$("#print_MA").text($(this).val())}))})),$("#Sendtodb").click((function(){let joueursTAB=[];for(const[key,value]of Object.entries($(".joueur")))if($(value).hasClass("joueur")){let TMPjoueurNom=$(value).children(".prenom").text()+" "+$(value).children(".nom").text();TMPjoueurNom=standardNom(TMPjoueurNom);let TMPJoueurNumero=$(value).children(".numero").text(),TMPJoueurPoste=$(value).children(".poste").text();joueursTAB.push([TMPjoueurNom,TMPJoueurNumero,TMPJoueurPoste])}let joueursTABstring=JSON.stringify(joueursTAB),team=$("#print_NE").text();team=standardNom(team),$.post("/php/addteam.php",{joueursTAB:joueursTABstring,team:team},(function(data){console.log(data)}))}));